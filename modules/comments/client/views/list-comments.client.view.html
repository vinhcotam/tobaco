<div class="row">
    <div class="col-md-12">
        <div class="card card-info">
            <div class="card-header">
                <h3 ng-bind="vm.newsTitle"></h3>
            </div>
            <div class="card-body">
                <p ng-bind="vm.newsSummary"></p>
            </div>
            <div class="card-header">
                <h3 class="card-title">Comments</h3>
                <div class="card-tools" style="display: flex; align-items: center;">
                    <button type="submit" class="btn btn-default" style="margin-right: 10px;">
                        Report
                    </button>
                    <div class="input-group input-group-sm">
                        <input type="text" name="table_search" class="form-control float-right" ng-model="vm.search"
                            placeholder="Search" ng-change="vm.figureOutItemsToDisplay()">

                        <div class="input-group-append">
                            <button type="submit" class="btn btn-default">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body table-responsive p-0">
                <table class="table table-hover text-wrap">
                    <thead>
                        <tr>
                            <th style="width: 10px">#</th>
                            <th class="text-center" style="width: 70%;" colspan="2">Comment Content</th>
                            <th class="text-center" rowspan="2">Researcher<br>Sentiment Score</th>
                            <th class="text-center" rowspan="2">Researcher<br>Sentiment</th>
                            <th class="text-center" rowspan="2">AI<br>Sentiment Score</th>
                            <th class="text-center" rowspan="2">AI<br>Sentiment</th>
                            <!-- <th style="width: 20%" class="text-center">Reaction</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="(index, comment) in vm.pagedItems">
                            <td ui-sref="comments.view({ commentId: comment._id })">
                                <span ng-bind="index + (vm.currentPage-1)*vm.itemsPerPage + 1"></span>
                            </td>
                            <td ui-sref="comments.view({ commentId: comment._id })">
                                <span ng-bind="comment.content"></span>
                                <ul>
                                    <li ng-repeat="(key, value) in comment.reaction">
                                        <span ng-bind="key"></span>: <span ng-bind="value"></span>
                                    </li>
                                </ul>
                            </td>
                            <!-- <td>
                                <div class="btn-group btn-group-sm">
                                  <a class="btn btn-primary"
                                     ui-sref="comments.view({ commentId: comment._id })">
                                    <i class="fas fa-eye"></i>
                                  </a>
                                </div>
                              </td> -->
                        </tr>
                    </tbody>
                </table>
                <!-- <div class="card-footer clearfix">
                    <uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage"
                        total-items="vm.filterLength" ng-model="vm.currentPage"
                        ng-change="vm.pageChanged()"></uib-pagination>
                </div> -->
                <div class="card-footer clearfix">
                    <!-- <b style="color: blue;">Total: {{vm.filterLength}} (rows)</b> -->
                    <uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>
                  </div>
            </div>
        </div>
    </div>